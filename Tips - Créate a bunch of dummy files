# Create empty file with defined size 
$File = New-Object -TypeName System.IO.FileStream c:\temp\test.txt, Create, ReadWrite
# Here, we define the size of the file
$File.SetLength(10Mb)
# closing and creating file
$File.Close()


# 
Create a bunch of file with different sizes and in a diffrent quantity
$PathForDummyFiles = "c:\temp"
$NumberOf100KB = 200
$NumberOf1MB = 100
$NumberOf10MB = 10
$NumberOf100MB = 5

# Creating 1 KB files
for ($i = 1; $i -lt $NumberOf100KB; $i++)
    { 
    $File = New-Object -TypeName System.IO.FileStream "$PathForDummyFiles\test100KB-$I.txt", Create, ReadWrite
    $File.SetLength(100KB)
    $File.Close() 
}
# Creatin 1 MB files
for ($i = 1; $i -lt $NumberOf1MB; $i++)
    { 
    $File = New-Object -TypeName System.IO.FileStream "$PathForDummyFiles\test1MB-$I.txt", Create, ReadWrite
    $File.SetLength(1MB)
    $File.Close() 
}
# Creating 10 MB files
for ($i = 1; $i -lt $NumberOf10MB; $i++)
    { 
    $File = New-Object -TypeName System.IO.FileStream "$PathForDummyFiles\test10MB-$I.txt", Create, ReadWrite
    $File.SetLength(10MB)
    $File.Close() 
}
# Creating 100 MB files
for ($i = 1; $i -lt $NumberOf100MB; $i++)
    { 
    $File = New-Object -TypeName System.IO.FileStream "$PathForDummyFiles\test100MB-$I.txt", Create, ReadWrite
    $File.SetLength(100MB)
    $File.Close() 
}

# In this sample to create 311 files, this take 291 ms. To create 2146 files, this takes 2,2 sec. 

Hope this will be useful
